<view class="gui-im data-v-3edf3a2b" style="{{'background-color:'+(background)+';'}}"><block wx:for="{{msgs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block class="data-v-3edf3a2b"><block wx:if="{{item.group==group}}"><block class="data-v-3edf3a2b"><block wx:if="{{item.contentType=='system'}}"><view class="gui-im-msg flex-row mx-center sx-center data-v-3edf3a2b"><view class="gui-im-system-msg  data-v-3edf3a2b" style="background-color:black;">{{item.msg}}</view></view></block><block wx:else><view class="data-v-3edf3a2b"><view class="{{['gui-im-msg','data-v-3edf3a2b',userid==item.uindex?'gui-im-msg-right':'gui-im-msg-left']}}"><block wx:if="{{item.uface}}"><view class="gui-im-face data-v-3edf3a2b"><image class="gui-im-face-image data-v-3edf3a2b" src="{{item.uface}}" mode="widthFix"></image></view></block><view class="gui-im-content-spacing data-v-3edf3a2b"></view><view class="gui-im-content-in data-v-3edf3a2b"><block wx:if="{{userid!=item.uindex}}"><view class="gui-im-name data-v-3edf3a2b"><text style="{{(unameStyle)}}" class="data-v-3edf3a2b">{{item.uname}}</text></view></block><block wx:if="{{rightname&&userid==item.uindex}}"><view class="flex-txt-right-center data-v-3edf3a2b" style="font-size:26rpx;">{{''+item.uname+''}}</view></block><block wx:if="{{item.contentType=='txt'}}"><view class="{{['data-v-3edf3a2b',userid==item.uindex?'gui-im-flex-end':'']}}"><view class="{{['gui-im-content-txt','data-v-3edf3a2b',userid==item.uindex?'rightMessage':'']}}"><text class="{{['data-v-3edf3a2b',userid==item.uindex?'gui-color-white':'']}}" style="{{(txtContentStyle)}}">{{item.content}}</text></view></view></block><block wx:if="{{item.contentType=='img'}}"><view class="{{['data-v-3edf3a2b',userid==item.uindex?'gui-im-flex-end':'']}}"><view class="gui-img-in gui-im-img data-v-3edf3a2b"><image class="gui-im-img data-v-3edf3a2b" src="{{item.content}}" data-img="{{item.content}}" mode="widthFix" data-event-opts="{{[['tap',[['showImgs',['$event']]]]]}}" bindtap="__e"></image></view></view></block><block wx:if="{{item.contentType=='voice'}}"><view class="{{['data-v-3edf3a2b',userid==item.uindex?'gui-im-flex-end':'']}}"><view class="{{['flex-row','mx-center','sx-center','data-v-3edf3a2b','gui-im-voice-msg',index==playIndex?'gui-bg-green':'',userid!=item.uindex?'gui-im-flex-end':'']}}" style="{{'width:'+(item.length*3+'px')+';'}}" data-voice="{{item.content}}" data-index="{{index}}" data-event-opts="{{[['tap',[['playVoice',['$event']]]]]}}" bindtap="__e"><text class="{{['gui-icons','data-v-3edf3a2b',index==playIndex?'gui-color-white':'']}}"></text><text class="{{['gui-im-voice-msg-text','data-v-3edf3a2b',index==playIndex?'gui-color-white':'']}}">{{item.length+" ”"}}</text></view></view></block><view class="{{['data-v-3edf3a2b',userid==item.uindex?'flex-txt-right-center':'']}}"><text class="gui-im-timer gui-block-text data-v-3edf3a2b">{{item.date}}</text></view></view></view></view></block></block></block></block></block><view style="height:100px;" class="data-v-3edf3a2b"></view></view>