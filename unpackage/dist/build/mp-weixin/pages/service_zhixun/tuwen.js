(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/service_zhixun/tuwen"],{1772:function(e,t,n){"use strict";var r=n("c8f1"),s=n.n(r);s.a},2783:function(e,t,n){"use strict";(function(e){n("6e3d");r(n("66fd"));var t=r(n("430e"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"373f":function(e,t,n){"use strict";n.r(t);var r=n("5506"),s=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=s.a},"430e":function(e,t,n){"use strict";n.r(t);var r=n("fe85"),s=n("373f");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("1772");var i,o=n("f0c5"),u=Object(o["a"])(s["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);t["default"]=u.exports},5506:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a34a"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,s,a,i){try{var o=e[a](i),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(r,s)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){a(i,r,s,o,u,"next",e)}function u(e){a(i,r,s,o,u,"throw",e)}o(void 0)}))}}var o={onLoad:function(e){this.price=e.price;var t=this.$store.state.userInfo;this.bussinessTypes=this.$store.state.bussinessTypes,console.log(this.bussinessTypes),this.userInfo=t,this.layer_id=e.layer_id,this.user_id=t.user_id},data:function(){return{layer_id:"",userInfo:null,user_id:null,bussinessTypes:[],content:"",case_type:"",address:"",lng:"",lat:"",price:""}},methods:{caseTypeChange:function(e){this.case_type=e.id},commit:function(){var t=this;return i(r.default.mark((function n(){var s,a,i,o,u,c,d,l,f,h;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=t.$data,a=s.layer_id,i=s.user_id,o=s.content,u=s.case_type,c=s.address,d=s.lng,l=s.lat,a&&i){n.next=4;break}return e.showToast({title:"用户数据异常，请重新登录",icon:"none"}),n.abrupt("return");case 4:if(o&&""!=(o+"").trim()){n.next=7;break}return e.showToast({title:"请输入咨询内容",icon:"none"}),n.abrupt("return");case 7:if(u){n.next=10;break}return e.showToast({title:"请选择案件类型",icon:"none"}),n.abrupt("return");case 10:if(c&&d&&l){n.next=13;break}return e.showToast({title:"请选择事发地址！",icon:"none"}),n.abrupt("return");case 13:return f={layer_id:a,user_id:i,content:o,case_type:u,address:c,lng:d,lat:l},console.log(f),e.showLoading({title:"正在提交..."}),n.next=18,t.$myRequest({url:"service/tuwen",data:f});case 18:h=n.sent,console.log(h),e.hideLoading(),h&&200==h.code?(e.navigateTo({url:"../my/pay?id="+h.data.service_id+"&price="+t.price+"&typeId=1&emitName=tochat"}),e.$on("tochat",(function(){console.log("--------------------------"),console.log("--------------------------"+h.data.service_id+"&layer_id="+t.layer_id+"&user_id="+t.user_id),e.navigateTo({url:"../chat/chat?source_id="+h.data.service_id+"&layer_id="+t.layer_id+"&user_id="+t.user_id})}))):e.showToast({title:h.message,icon:"none"});case 22:case"end":return n.stop()}}),n)})))()},searchKeyWord:function(){var t=this;console.log("---"+this.searchAddress);e.createMapContext("map1");e.chooseLocation({keyword:this.searchAddress,success:function(e){console.log(e),t.address=e.address,t.lng=e.longitude,t.lat=e.latitude}})}}};t.default=o}).call(this,n("543d")["default"])},c8f1:function(e,t,n){},fe85:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={faIcon:function(){return n.e("components/fa-icon/fa-icon").then(n.bind(null,"1f6a"))}},s=function(){var e=this,t=e.$createElement;e._self._c},a=[]}},[["2783","common/runtime","common/vendor"]]]);